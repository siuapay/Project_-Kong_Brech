<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
  <head th:replace="~{fragments/admin-layout :: head}"></head>
  <body class="modern-admin-page">
    <!-- Sidebar -->
    <nav th:replace="~{fragments/admin-layout :: sidebar}"></nav>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Top Navigation -->
      <nav th:replace="~{fragments/admin-layout :: topnav}"></nav>

      <!-- Content -->
      <div class="container-fluid py-4">
        <!-- Flash Messages -->
        <div th:replace="~{fragments/admin-layout :: messages}"></div>

        <!-- Modern Page Header -->
        <div class="modern-page-header">
          <div class="header-content">
            <div class="header-info">
              <div class="header-icon">
                <i class="fas fa-sitemap"></i>
              </div>
              <div class="header-text">
                <h1 class="header-title">Hồ Sơ Ban Ngành</h1>
                <p class="header-subtitle">
                  Thông tin chi tiết và đầy đủ của ban ngành
                </p>
              </div>
            </div>
            <div class="header-actions">
              <a
                th:href="@{/admin/ban-nganh/edit/{id}(id=${banNganh.id})}"
                class="btn-modern btn-modern-outline"
              >
                <i class="fas fa-edit me-2"></i>Chỉnh Sửa
              </a>
              <a
                th:href="@{/admin/ban-nganh}"
                class="btn-modern btn-modern-outline"
              >
                <i class="fas fa-arrow-left me-2"></i>Quay Lại
              </a>
            </div>
          </div>
        </div>

        <div class="row g-4">
          <!-- Main Profile Card -->
          <div class="col-lg-4">
            <div class="modern-card">
              <div class="card-content">
                <!-- Modern Location Section -->
                <div class="location-section">
                  <div class="location-wrapper">
                    <div class="location-icon-circle">
                      <i class="fas fa-sitemap"></i>
                    </div>
                  </div>
                </div>

                <!-- Name & Basic Info -->
                <div class="profile-info">
                  <h2 class="profile-name" th:text="${banNganh.tenBan}">
                    Tên Ban Ngành
                  </h2>
                  <p class="profile-job">
                    <span class="code-badge" th:text="${banNganh.maBan}"
                      >Mã Ban</span
                    >
                  </p>
                </div>

                <!-- Status Badge -->
                <div class="status-section">
                  <div
                    th:if="${banNganh.trangThai.name() == 'HOAT_DONG'}"
                    class="status-badge active"
                  >
                    <i class="fas fa-check-circle"></i>
                    <span>Đang Hoạt Động</span>
                  </div>
                  <div
                    th:if="${banNganh.trangThai.name() == 'TAM_NGHI'}"
                    class="status-badge inactive"
                  >
                    <i class="fas fa-pause-circle"></i>
                    <span>Tạm Nghỉ</span>
                  </div>
                  <div
                    th:if="${banNganh.trangThai.name() == 'GIAI_TAN'}"
                    class="status-badge moved"
                  >
                    <i class="fas fa-times-circle"></i>
                    <span>Giải Tán</span>
                  </div>
                </div>

                <!-- Contact Actions -->
                <div class="contact-actions">
                  <a
                    th:if="${banNganh.dienThoaiLienHe}"
                    th:href="'tel:' + ${banNganh.dienThoaiLienHe}"
                    class="contact-btn phone"
                  >
                    <i class="fas fa-phone"></i>
                    <span th:text="${banNganh.dienThoaiLienHe}"></span>
                  </a>
                  <a
                    th:if="${banNganh.emailLienHe}"
                    th:href="'mailto:' + ${banNganh.emailLienHe}"
                    class="contact-btn email"
                  >
                    <i class="fas fa-envelope"></i>
                    <span th:text="${banNganh.emailLienHe}"></span>
                  </a>
                </div>
              </div>
            </div>

            <!-- Modern Quick Actions -->
            <div class="modern-card">
              <div class="card-header">
                <div class="header-left">
                  <div class="card-icon">
                    <i class="fas fa-bolt"></i>
                  </div>
                  <div class="card-title">
                    <h5>Thao Tác Nhanh</h5>
                    <p>Các hành động có thể thực hiện</p>
                  </div>
                </div>
              </div>
              <div class="card-content">
                <a
                  th:href="@{/admin/ban-nganh/edit/{id}(id=${banNganh.id})}"
                  class="action-item edit"
                >
                  <div class="action-icon">
                    <i class="fas fa-edit"></i>
                  </div>
                  <div class="action-text">
                    <div class="action-title">Chỉnh Sửa</div>
                    <div class="action-desc">Cập nhật thông tin ban ngành</div>
                  </div>
                </a>
                <button
                  type="button"
                  class="action-item delete"
                  th:data-id="${banNganh.id}"
                  th:data-name="${banNganh.tenBan}"
                  onclick="confirmDelete(this.dataset.id, this.dataset.name)"
                >
                  <div class="action-icon">
                    <i class="fas fa-trash"></i>
                  </div>
                  <div class="action-text">
                    <div class="action-title">Xóa Ban Ngành</div>
                    <div class="action-desc">Xóa ban ngành khỏi hệ thống</div>
                  </div>
                </button>
                <div class="actions-divider"></div>
                <a th:href="@{/admin/ban-nganh}" class="action-item secondary">
                  <div class="action-icon">
                    <i class="fas fa-list"></i>
                  </div>
                  <div class="action-text">
                    <div class="action-title">Danh Sách</div>
                    <div class="action-desc">Quay lại danh sách ban ngành</div>
                  </div>
                </a>
                <a
                  th:href="@{/admin/ban-nganh/new}"
                  class="action-item primary"
                >
                  <div class="action-icon">
                    <i class="fas fa-plus"></i>
                  </div>
                  <div class="action-text">
                    <div class="action-title">Thêm Mới</div>
                    <div class="action-desc">Tạo ban ngành mới</div>
                  </div>
                </a>
              </div>
            </div>
          </div>

          <!-- Detailed Information -->
          <div class="col-lg-8">
            <!-- Basic Information -->
            <div class="modern-card">
              <div class="card-header">
                <div class="header-left">
                  <div class="card-icon">
                    <i class="fas fa-info-circle"></i>
                  </div>
                  <div class="card-title">
                    <h5>Thông Tin Cơ Bản</h5>
                    <p>Chi tiết về thông tin ban ngành</p>
                  </div>
                </div>
              </div>
              <div class="card-content">
                <div class="row g-4">
                  <div class="col-md-6">
                    <div class="info-item">
                      <label class="info-label">Tên Ban Ngành</label>
                      <div class="info-value" th:text="${banNganh.tenBan}">
                        -
                      </div>
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="info-item">
                      <label class="info-label">Mã Ban</label>
                      <div class="info-value">
                        <span class="code-badge" th:text="${banNganh.maBan}"
                          >-</span
                        >
                      </div>
                    </div>
                  </div>
                  <div class="col-12">
                    <div class="info-item">
                      <label class="info-label">Mô Tả</label>
                      <div class="info-value">
                        <div class="note-box bg-light border-start border-4 border-success p-3 rounded">
                          <i class="fas fa-align-left text-success me-2"></i>
                          <span th:if="${banNganh.moTa}" th:text="${banNganh.moTa}"></span>
                          <span th:unless="${banNganh.moTa}" class="text-muted">Chưa có mô tả</span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Contact Information -->
            <div class="modern-card">
              <div class="card-header">
                <div class="header-left">
                  <div class="card-icon">
                    <i class="fas fa-address-book"></i>
                  </div>
                  <div class="card-title">
                    <h5>Thông Tin Liên Hệ</h5>
                    <p>Chi tiết liên lạc của ban ngành</p>
                  </div>
                </div>
              </div>
              <div class="card-content">
                <div class="row g-4">
                  <div class="col-md-6">
                    <div class="info-item">
                      <label class="info-label">Email Liên Hệ</label>
                      <div class="info-value">
                        <span th:if="${banNganh.emailLienHe}">
                          <i class="fas fa-envelope text-primary me-2"></i>
                          <a
                            th:href="'mailto:' + ${banNganh.emailLienHe}"
                            class="text-decoration-none"
                          >
                            <span th:text="${banNganh.emailLienHe}"></span>
                          </a>
                        </span>
                        <span
                          th:unless="${banNganh.emailLienHe}"
                          class="text-muted"
                          >Chưa có</span
                        >
                      </div>
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="info-item">
                      <label class="info-label">Điện Thoại Liên Hệ</label>
                      <div class="info-value">
                        <span th:if="${banNganh.dienThoaiLienHe}">
                          <i class="fas fa-phone text-success me-2"></i>
                          <a
                            th:href="'tel:' + ${banNganh.dienThoaiLienHe}"
                            class="text-decoration-none"
                          >
                            <span th:text="${banNganh.dienThoaiLienHe}"></span>
                          </a>
                        </span>
                        <span
                          th:unless="${banNganh.dienThoaiLienHe}"
                          class="text-muted"
                          >Chưa có</span
                        >
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Management Information -->
            <div class="modern-card">
              <div class="card-header">
                <div class="header-left">
                  <div class="card-icon">
                    <i class="fas fa-users-cog"></i>
                  </div>
                  <div class="card-title">
                    <h5>Quản Lý Ban</h5>
                    <p>Thông tin lãnh đạo ban ngành</p>
                  </div>
                </div>
              </div>
              <div class="card-content">
                <div class="row g-4">
                  <!-- Trưởng Ban -->
                  <div class="col-md-6">
                    <div class="info-item text-center">
                      <label class="info-label">Trưởng Ban</label>
                      <div class="info-value">
                        <span th:if="${banNganh.coTruongBan()}">
                          <i class="fas fa-crown text-warning me-1"></i>
                          <span th:text="${banNganh.tenTruongBan}"></span>
                          <br />
                          <small
                            class="text-muted"
                            th:text="'(' + ${banNganh.loaiTruongBan} + ')'"
                          ></small>
                        </span>
                        <span
                          th:unless="${banNganh.coTruongBan()}"
                          class="text-muted"
                          >Chưa có</span
                        >
                      </div>
                    </div>
                  </div>

                  <!-- Phó Ban -->
                  <div class="col-md-6">
                    <div class="info-item text-center">
                      <label class="info-label">Phó Ban</label>
                      <div class="info-value">
                        <span th:if="${banNganh.coPhoBan()}">
                          <span
                            class="badge bg-info fs-6"
                            th:text="${banNganh.soLuongPhoBan} + ' người'"
                          ></span>
                          <div class="mt-2">
                            <div
                              th:each="tenPhoBan : ${banNganh.danhSachTenPhoBan}"
                              class="mb-1"
                            >
                              <small class="d-block">
                                <i class="fas fa-user-tie text-info me-1"></i>
                                <span th:text="${tenPhoBan}"></span>
                              </small>
                            </div>
                          </div>
                        </span>
                        <span
                          th:unless="${banNganh.coPhoBan()}"
                          class="text-muted"
                          >Chưa có</span
                        >
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Thủ quỹ row -->
                <div class="row g-4 mt-2">
                  <div class="col-12">
                    <div class="info-item text-center">
                      <label class="info-label">Thủ Quỹ</label>
                      <div class="info-value">
                        <span th:if="${banNganh.coThuQuy()}">
                          <span
                            class="badge bg-success fs-6"
                            th:text="${banNganh.soLuongThuQuy} + ' người'"
                          ></span>
                          <div class="mt-2">
                            <div
                              th:each="tenThuQuy : ${banNganh.danhSachTenThuQuy}"
                              class="mb-1"
                            >
                              <small class="d-block">
                                <i class="fas fa-coins text-success me-1"></i>
                                <span th:text="${tenThuQuy}"></span>
                              </small>
                            </div>
                          </div>
                        </span>
                        <span
                          th:unless="${banNganh.coThuQuy()}"
                          class="text-muted"
                          >Chưa có</span
                        >
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Personnel Information -->
            <div class="modern-card">
              <div class="card-header">
                <div class="header-left">
                  <div class="card-icon">
                    <i class="fas fa-users"></i>
                  </div>
                  <div class="card-title">
                    <h5>Thông Tin Nhân Sự</h5>
                    <p>Thống kê nhân sự ban ngành</p>
                  </div>
                </div>
              </div>
              <div class="card-content">
                <div class="row g-4">
                  <div class="col-md-4">
                    <div class="info-item text-center">
                      <label class="info-label">Tổng Số Nhân Sự</label>
                      <div class="info-value">
                        <button
                          type="button"
                          class="btn btn-link p-0 text-decoration-none personnel-btn"
                          th:data-ban-nganh-id="${banNganh.id}"
                          th:data-ban-nganh-name="${banNganh.tenBan}"
                          th:data-type="nhan-su"
                          th:disabled="${banNganh.soLuongNhanSu == 0}"
                          th:title="${banNganh.soLuongNhanSu > 0 ? 'Click để xem danh sách nhân sự' : 'Chưa có nhân sự nào'}"
                          data-bs-toggle="tooltip"
                          onclick="showPersonnelModal(this)"
                        >
                          <div class="position-relative">
                            <span
                              class="badge bg-info fs-4"
                              th:text="${banNganh.soLuongNhanSu}"
                              >0</span
                            >
                            <small class="text-muted d-block">
                              <i
                                class="fas fa-users me-1"
                                th:if="${banNganh.soLuongNhanSu > 0}"
                              ></i>
                              người
                              <i
                                class="fas fa-external-link-alt ms-1 opacity-50"
                                th:if="${banNganh.soLuongNhanSu > 0}"
                                style="font-size: 0.7em"
                              ></i>
                            </small>
                          </div>
                        </button>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="info-item text-center">
                      <label class="info-label">Tổng Số Chấp Sự</label>
                      <div class="info-value">
                        <button
                          type="button"
                          class="btn btn-link p-0 text-decoration-none personnel-btn"
                          th:data-ban-nganh-id="${banNganh.id}"
                          th:data-ban-nganh-name="${banNganh.tenBan}"
                          th:data-type="chap-su"
                          th:disabled="${banNganh.soLuongChapSu == 0}"
                          th:title="${banNganh.soLuongChapSu > 0 ? 'Click để xem danh sách chấp sự' : 'Chưa có chấp sự nào'}"
                          data-bs-toggle="tooltip"
                          onclick="showPersonnelModal(this)"
                        >
                          <div class="position-relative">
                            <span
                              class="badge bg-warning fs-4"
                              th:text="${banNganh.soLuongChapSu}"
                              >0</span
                            >
                            <small class="text-muted d-block">
                              <i
                                class="fas fa-user-graduate me-1"
                                th:if="${banNganh.soLuongChapSu > 0}"
                              ></i>
                              người
                              <i
                                class="fas fa-external-link-alt ms-1 opacity-50"
                                th:if="${banNganh.soLuongChapSu > 0}"
                                style="font-size: 0.7em"
                              ></i>
                            </small>
                          </div>
                        </button>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="info-item text-center">
                      <label class="info-label">Tổng Số Tin Hữu</label>
                      <div class="info-value">
                        <span
                          class="badge bg-success fs-4"
                          th:text="${banNganh.soLuongTinHuu}"
                          >0</span
                        >
                        <small class="text-muted d-block">người</small>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- System Information -->
            <div class="modern-card">
              <div class="card-header">
                <div class="header-left">
                  <div class="card-icon">
                    <i class="fas fa-cog"></i>
                  </div>
                  <div class="card-title">
                    <h5>Thông Tin Hệ Thống</h5>
                    <p>Chi tiết về bản ghi</p>
                  </div>
                </div>
              </div>
              <div class="card-content">
                <div class="row g-4">
                  <div class="col-md-4">
                    <div class="info-item text-center">
                      <label class="info-label">ID Ban Ngành</label>
                      <div class="info-value">
                        <span
                          class="badge bg-primary fs-6"
                          th:text="'#' + ${banNganh.id}"
                        ></span>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="info-item text-center">
                      <label class="info-label">Ngày Tạo</label>
                      <div class="info-value">
                        <span th:if="${banNganh.createdAt}">
                          <i class="fas fa-calendar-plus text-success me-1"></i>
                          <span
                            th:text="${#temporals.format(banNganh.createdAt, 'dd/MM/yyyy')}"
                          ></span>
                        </span>
                        <span
                          th:unless="${banNganh.createdAt}"
                          class="text-muted"
                          >-</span
                        >
                      </div>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="info-item text-center">
                      <label class="info-label">Cập Nhật Cuối</label>
                      <div class="info-value">
                        <span th:if="${banNganh.updatedAt}">
                          <i class="fas fa-edit text-warning me-1"></i>
                          <span
                            th:text="${#temporals.format(banNganh.updatedAt, 'dd/MM/yyyy')}"
                          ></span>
                        </span>
                        <span
                          th:unless="${banNganh.updatedAt}"
                          class="text-muted"
                          >-</span
                        >
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- Personnel Modal -->
    <div class="modal fade" id="personnelModal" tabindex="-1">
      <div class="modal-dialog modal-xl">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="personnelModalLabel">
              <i class="fas fa-users me-2"></i>Danh Sách Nhân Sự
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
            ></button>
          </div>
          <div class="modal-body">
            <!-- View Toggle -->
            <div class="d-flex justify-content-between align-items-center mb-3">
              <div>
                <span class="text-muted"
                  >Tổng số: <strong id="totalPersonnel">0</strong> nhân sự</span
                >
              </div>
              <div class="d-flex gap-2">
                <button
                  class="btn btn-sm btn-outline-primary"
                  onclick="toggleModalView()"
                >
                  <i class="fas fa-th-large me-1" id="modalViewToggleIcon"></i>
                  <span id="modalViewToggleText">Xem dạng lưới</span>
                </button>
                <a
                  th:href="@{/admin/nhan-su/new}"
                  class="btn btn-sm btn-success"
                >
                  <i class="fas fa-user-plus me-1"></i>Thêm nhân sự
                </a>
              </div>
            </div>

            <!-- Loading State -->
            <div id="personnelLoading" class="text-center py-4">
              <div class="spinner-border text-primary" role="status">
                <span class="visually-hidden">Đang tải...</span>
              </div>
              <p class="mt-2 text-muted">Đang tải danh sách nhân sự...</p>
            </div>

            <!-- Content -->
            <div id="personnelContent" style="display: none">
              <!-- List View (Default) -->
              <div id="modalListView" class="personnel-list">
                <div class="row" id="personnelListContainer">
                  <!-- Personnel items will be loaded here -->
                </div>
              </div>

              <!-- Grid View -->
              <div
                id="modalGridView"
                class="personnel-grid"
                style="display: none"
              >
                <div class="row" id="personnelGridContainer">
                  <!-- Personnel cards will be loaded here -->
                </div>
              </div>
            </div>

            <!-- Empty State -->
            <div
              id="personnelEmpty"
              style="display: none"
              class="text-center py-5 text-muted"
            >
              <i class="fas fa-user-slash fa-3x mb-3 d-block"></i>
              <h5>Chưa có nhân sự nào</h5>
              <p>Ban ngành này chưa có nhân sự. Hãy thêm nhân sự mới.</p>
              <a th:href="@{/admin/nhan-su/new}" class="btn btn-primary">
                <i class="fas fa-user-plus me-2"></i>Thêm nhân sự đầu tiên
              </a>
            </div>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Đóng
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div class="modal fade" id="deleteModal" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Xác Nhận Xóa</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
            ></button>
          </div>
          <div class="modal-body">
            <p>
              Bạn có chắc chắn muốn xóa ban ngành
              <strong id="deleteName"></strong>?
            </p>
            <div class="alert alert-warning">
              <i class="fas fa-info-circle me-2"></i>
              <strong>Lưu ý:</strong> Các nhân sự trong ban ngành này sẽ được
              chuyển về trạng thái "Chưa phân công".
            </div>
            <p class="text-danger">
              <i class="fas fa-exclamation-triangle me-1"></i>Hành động này
              không thể hoàn tác!
            </p>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Hủy
            </button>
            <form id="deleteForm" method="post" class="d-inline">
              <button type="submit" class="btn btn-danger">
                <i class="fas fa-trash me-1"></i>Xóa
              </button>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- Scripts -->
    <div th:replace="~{fragments/admin-layout :: scripts}"></div>

    <!-- Modern View Page Styles -->
    <style>
      /* Modern Admin Page Styles */
      .modern-admin-page {
        background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        min-height: 100vh;
      }

      /* Location Section */
      .location-section {
        text-align: center;
        margin: 2rem 0;
      }

      .location-wrapper {
        display: inline-block;
        position: relative;
      }

      .location-icon-circle {
        width: 140px;
        height: 140px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 3.5rem;
        box-shadow: 0 15px 35px rgba(102, 126, 234, 0.3);
        margin: 0 auto 1.5rem;
        position: relative;
        overflow: hidden;
      }

      .location-icon-circle::before {
        content: "";
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: linear-gradient(
          45deg,
          transparent,
          rgba(255, 255, 255, 0.1),
          transparent
        );
        transform: rotate(45deg);
        animation: shimmer 3s infinite;
      }

      @keyframes shimmer {
        0% {
          transform: translateX(-100%) translateY(-100%) rotate(45deg);
        }
        100% {
          transform: translateX(100%) translateY(100%) rotate(45deg);
        }
      }

      /* Modern Page Header */
      .modern-page-header {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border-radius: 20px;
        padding: 2rem;
        margin-bottom: 2rem;
        color: white;
        box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
      }

      .header-content {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .header-info {
        display: flex;
        align-items: center;
        gap: 1.5rem;
      }

      .header-icon {
        width: 70px;
        height: 70px;
        background: rgba(255, 255, 255, 0.2);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 2rem;
      }

      .header-title {
        font-size: 2.5rem;
        font-weight: 700;
        margin: 0;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      .header-subtitle {
        font-size: 1.1rem;
        opacity: 0.9;
        margin: 0.5rem 0 0 0;
      }

      .header-actions {
        display: flex;
        gap: 1rem;
      }

      /* Modern Buttons */
      .btn-modern {
        padding: 0.75rem 1.5rem;
        border-radius: 12px;
        font-weight: 600;
        text-decoration: none;
        display: inline-flex;
        align-items: center;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        border: none;
        cursor: pointer;
      }

      .btn-modern-outline {
        background: rgba(255, 255, 255, 0.2);
        color: white;
        border: 2px solid rgba(255, 255, 255, 0.3);
      }

      .btn-modern-outline:hover {
        background: rgba(255, 255, 255, 0.3);
        color: white;
        text-decoration: none;
      }

      /* Modern Cards */
      .modern-card {
        background: white;
        border-radius: 16px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        margin-bottom: 2rem;
        overflow: hidden;
      }

      .card-header {
        padding: 1.5rem;
        background: #f8f9fa;
        border-bottom: 1px solid #e9ecef;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .header-left {
        display: flex;
        align-items: center;
        gap: 1rem;
      }

      .card-icon {
        width: 45px;
        height: 45px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 1.2rem;
      }

      .card-title h5 {
        margin: 0;
        font-weight: 600;
        color: #2d3748;
      }

      .card-title p {
        margin: 0.25rem 0 0 0;
        color: #718096;
        font-size: 0.9rem;
      }

      .card-content {
        padding: 2rem;
      }

      .view-page-header {
        background: linear-gradient(
          135deg,
          rgba(102, 126, 234, 0.9) 0%,
          rgba(118, 75, 162, 0.9) 100%
        );
        padding: 2rem 0;
        margin: -1rem -15px 2rem -15px;
        border-radius: 0 0 20px 20px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      }

      .header-content {
        display: flex;
        justify-content: space-between;
        align-items: center;
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 2rem;
      }

      .header-info {
        display: flex;
        align-items: center;
        gap: 1.5rem;
      }

      .header-icon {
        width: 60px;
        height: 60px;
        background: rgba(255, 255, 255, 0.2);
        border-radius: 15px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 24px;
        color: white;
        backdrop-filter: blur(10px);
      }

      .header-title {
        font-size: 2rem;
        font-weight: 700;
        color: white;
        margin: 0;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      .header-subtitle {
        color: rgba(255, 255, 255, 0.9);
        margin: 0.5rem 0 0 0;
        font-size: 1.1rem;
      }

      .header-actions {
        display: flex;
        gap: 1rem;
      }

      .header-actions .btn {
        padding: 0.75rem 1.5rem;
        border-radius: 10px;
        font-weight: 500;
        transition: all 0.3s ease;
        text-decoration: none;
      }

      .header-actions .btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
      }

      /* Modern Profile Card */
      .modern-profile-card {
        background: white;
        border-radius: 20px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        text-align: center;
      }

      .profile-card-body {
        padding: 2rem;
      }

      .avatar-section {
        margin-bottom: 2rem;
      }

      .avatar-wrapper {
        position: relative;
        display: inline-block;
      }

      .profile-avatar {
        width: 140px;
        height: 140px;
        border-radius: 50%;
        object-fit: cover;
        border: 4px solid #f8f9fa;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      }

      .profile-icon {
        width: 140px;
        height: 140px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 3rem;
        box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
      }

      .code-badge {
        background: linear-gradient(135deg, #4a5568 0%, #2d3748 100%);
        color: white;
        padding: 0.5rem 1rem;
        border-radius: 20px;
        font-weight: 600;
        font-size: 0.9rem;
        font-family: "Courier New", monospace;
      }

      .avatar-border {
        position: absolute;
        top: -8px;
        left: -8px;
        right: -8px;
        bottom: -8px;
        border: 3px solid transparent;
        border-radius: 50%;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        background-clip: padding-box;
        z-index: -1;
      }

      .profile-info {
        margin-bottom: 2rem;
      }

      .profile-name {
        font-size: 1.8rem;
        font-weight: 700;
        color: #2d3748;
        margin-bottom: 0.5rem;
      }

      .profile-job {
        color: #718096;
        font-size: 1.1rem;
        margin: 0;
      }

      .status-section {
        margin-bottom: 2rem;
      }

      .status-badge {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.75rem 1.5rem;
        border-radius: 25px;
        font-weight: 600;
        font-size: 0.95rem;
      }

      .status-badge.active {
        background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
        color: white;
      }

      .status-badge.inactive {
        background: linear-gradient(135deg, #ed8936 0%, #dd6b20 100%);
        color: white;
      }

      .status-badge.moved {
        background: linear-gradient(135deg, #718096 0%, #4a5568 100%);
        color: white;
      }

      .contact-actions {
        display: flex;
        flex-direction: column;
        gap: 0.75rem;
      }

      .contact-btn {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        padding: 0.75rem 1rem;
        border-radius: 12px;
        text-decoration: none;
        font-weight: 500;
        transition: all 0.3s ease;
      }

      .contact-btn.phone {
        background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
        color: white;
      }

      .contact-btn.email {
        background: linear-gradient(135deg, #4299e1 0%, #3182ce 100%);
        color: white;
      }

      .contact-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        color: white;
      }

      /* Modern Actions Card */
      .modern-actions-card {
        background: white;
        border-radius: 20px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        margin-top: 1.5rem;
      }

      .actions-header {
        background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        padding: 1.5rem;
        display: flex;
        align-items: center;
        gap: 1rem;
        border-bottom: 1px solid #e9ecef;
      }

      .actions-icon {
        width: 40px;
        height: 40px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 16px;
      }

      .actions-header h3 {
        margin: 0;
        font-size: 1.1rem;
        font-weight: 600;
        color: #2d3748;
      }

      .actions-body {
        padding: 1rem;
      }

      .action-item {
        display: flex;
        align-items: center;
        gap: 1rem;
        padding: 1rem;
        border-radius: 12px;
        text-decoration: none;
        transition: all 0.3s ease;
        margin-bottom: 0.5rem;
        border: none;
        background: transparent;
        width: 100%;
        cursor: pointer;
      }

      .action-item:hover {
        background: #f8f9fa;
        transform: translateX(5px);
      }

      .action-item.edit:hover {
        background: linear-gradient(135deg, #fef5e7 0%, #fed7aa 100%);
      }

      .action-item.delete:hover {
        background: linear-gradient(135deg, #fed7d7 0%, #feb2b2 100%);
      }

      .action-item.primary:hover {
        background: linear-gradient(135deg, #e6f3ff 0%, #bee3f8 100%);
      }

      .action-item .action-icon {
        width: 40px;
        height: 40px;
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 16px;
      }

      .action-item.edit .action-icon {
        background: linear-gradient(135deg, #ed8936 0%, #dd6b20 100%);
        color: white;
      }

      .action-item.delete .action-icon {
        background: linear-gradient(135deg, #e53e3e 0%, #c53030 100%);
        color: white;
      }

      .action-item.secondary .action-icon {
        background: linear-gradient(135deg, #718096 0%, #4a5568 100%);
        color: white;
      }

      .action-item.primary .action-icon {
        background: linear-gradient(135deg, #4299e1 0%, #3182ce 100%);
        color: white;
      }

      .action-text {
        display: flex;
        flex-direction: column;
        text-align: left;
      }

      .action-title {
        font-weight: 600;
        color: #2d3748;
        font-size: 0.95rem;
      }

      .action-desc {
        font-size: 0.8rem;
        color: #718096;
        margin-top: 0.1rem;
      }

      .actions-divider {
        height: 1px;
        background: linear-gradient(
          90deg,
          transparent 0%,
          #e2e8f0 50%,
          transparent 100%
        );
        margin: 1rem 0;
      }

      /* Modern Info Cards */
      .modern-info-card {
        background: white;
        border-radius: 20px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        margin-bottom: 2rem;
      }

      .info-card-header {
        background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        padding: 1.5rem;
        border-bottom: 1px solid #e9ecef;
        display: flex;
        align-items: center;
        gap: 1rem;
      }

      .info-card-icon {
        width: 40px;
        height: 40px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 16px;
      }

      .info-card-title h3 {
        margin: 0;
        font-size: 1.2rem;
        font-weight: 600;
        color: #2d3748;
      }

      .info-card-title p {
        margin: 0.25rem 0 0 0;
        color: #718096;
        font-size: 0.9rem;
      }

      .info-card-body {
        padding: 2rem;
      }

      .info-item {
        margin-bottom: 1.5rem;
      }

      .info-label {
        font-weight: 600;
        color: #4a5568;
        font-size: 0.875rem;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        margin-bottom: 0.5rem;
        display: block;
      }

      .info-value {
        font-size: 1rem;
        color: #2d3748;
        line-height: 1.5;
      }

      .text-pink {
        color: #e91e63 !important;
      }

      .note-box {
        background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        border-radius: 12px;
        transition: all 0.3s ease;
        border-left: 4px solid #667eea;
      }

      .note-box:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
      }

      /* Responsive Design */
      @media (max-width: 768px) {
        .header-content {
          flex-direction: column;
          gap: 1rem;
          text-align: center;
        }

        .profile-avatar {
          width: 100px;
          height: 100px;
        }

        .profile-name {
          font-size: 1.5rem;
        }

        .contact-actions {
          align-items: stretch;
        }
      }

      .avatar-xl {
        width: 120px;
        height: 120px;
        font-size: 48px;
      }

      .info-item {
        padding: 12px 0;
      }

      .info-label {
        font-size: 0.875rem;
        font-weight: 600;
        color: #6c757d;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        margin-bottom: 4px;
        display: block;
      }

      .info-value {
        font-size: 1rem;
        font-weight: 500;
        color: #495057;
      }

      .text-pink {
        color: #e91e63 !important;
      }

      .bg-gradient-primary {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      }

      .card {
        transition: transform 0.2s ease-in-out;
      }

      .card:hover {
        transform: translateY(-2px);
      }

      .border-4 {
        border-width: 4px !important;
      }

      .note-box {
        background-color: #f8f9fa !important;
        border-left: 4px solid #17a2b8 !important;
        font-size: 0.95rem;
        line-height: 1.5;
      }
      .text-dark {
        margin-bottom: 0;
      }

      .text-dark p {
        margin-top: 5px;
        display: inline-block;
      }
    </style>

    <script>
      function confirmDelete(id, name) {
        document.getElementById("deleteName").textContent = name;
        document.getElementById("deleteForm").action =
          "/admin/ban-nganh/delete/" + id;
        new bootstrap.Modal(document.getElementById("deleteModal")).show();
      }

      let isModalGridView = false;

      // Initialize tooltips
      document.addEventListener("DOMContentLoaded", function () {
        var tooltipTriggerList = [].slice.call(
          document.querySelectorAll('[data-bs-toggle="tooltip"]')
        );
        var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
          return new bootstrap.Tooltip(tooltipTriggerEl);
        });
      });

      function showPersonnelModal(element) {
        const banNganhId = element.getAttribute("data-ban-nganh-id");
        const banNganhName = element.getAttribute("data-ban-nganh-name");
        const type = element.getAttribute("data-type") || "nhan-su";

        // Update modal title and content
        const title =
          type === "chap-su" ? "Danh sách chấp sự" : "Danh sách nhân sự";
        const typeText = type === "chap-su" ? "chấp sự" : "nhân sự";

        document.getElementById(
          "personnelModalLabel"
        ).innerHTML = `<i class="fas ${
          type === "chap-su" ? "fa-user-graduate" : "fa-users"
        } me-2"></i>${title} - ${banNganhName}`;

        // Show loading
        document.getElementById("personnelLoading").style.display = "block";
        document.getElementById("personnelContent").style.display = "none";
        document.getElementById("personnelEmpty").style.display = "none";

        // Show modal
        const modal = new bootstrap.Modal(
          document.getElementById("personnelModal")
        );
        modal.show();

        // Load personnel data
        fetch(`/admin/api/ban-nganh/${banNganhId}/${type}`)
          .then((response) => response.json())
          .then((data) => {
            document.getElementById("personnelLoading").style.display = "none";

            if (data.length === 0) {
              document.getElementById("personnelEmpty").style.display = "block";
              document.getElementById("personnelEmpty").innerHTML = `
                            <i class="fas fa-user-slash fa-3x mb-3 d-block"></i>
                            <h5>Chưa có ${typeText} nào</h5>
                            <p>Ban ngành này chưa có ${typeText}. Hãy thêm ${typeText} mới.</p>
                            <a href="/admin/${type}/new" class="btn btn-primary">
                                <i class="fas fa-user-plus me-2"></i>Thêm ${typeText} đầu tiên
                            </a>
                        `;
            } else {
              document.getElementById("personnelContent").style.display =
                "block";
              document.getElementById("totalPersonnel").textContent =
                data.length;
              renderPersonnelList(data, type);
            }
          })
          .catch((error) => {
            console.error("Error loading personnel:", error);
            document.getElementById("personnelLoading").style.display = "none";
            document.getElementById("personnelEmpty").style.display = "block";
            document.getElementById("personnelEmpty").innerHTML = `
                        <i class="fas fa-exclamation-triangle fa-3x mb-3 d-block text-warning"></i>
                        <h5>Có lỗi xảy ra</h5>
                        <p>Không thể tải danh sách ${typeText}</p>
                    `;
          });
      }

      function renderPersonnelList(personnelList, type = "nhan-su") {
        const listContainer = document.getElementById("personnelListContainer");
        const gridContainer = document.getElementById("personnelGridContainer");

        listContainer.innerHTML = "";
        gridContainer.innerHTML = "";

        personnelList.forEach((person) => {
          // List view item
          const listItem = createPersonnelListItem(person, type);
          listContainer.appendChild(listItem);

          // Grid view item
          const gridItem = createPersonnelGridItem(person, type);
          gridContainer.appendChild(gridItem);
        });
      }

      function createPersonnelListItem(person, type = "nhan-su") {
        const col = document.createElement("div");
        col.className = "col-12";

        const avatarUrl =
          person.avatarUrl || "/static/images/default-avatar.svg";
        const statusBadge = getStatusBadge(person.trangThai);
        const iconClass = type === "chap-su" ? "fa-user-graduate" : "fa-user";
        const badgeClass = type === "chap-su" ? "bg-warning" : "bg-primary";

        col.innerHTML = `
                <div class="personnel-item border rounded p-3 mb-3 bg-light">
                    <div class="d-flex align-items-center">
                        <div class="flex-shrink-0">
                            ${
                              person.avatarUrl
                                ? `<img src="${avatarUrl}" alt="Avatar" class="rounded-circle" style="width: 60px; height: 60px; object-fit: cover;">`
                                : `<div class="rounded-circle ${badgeClass} text-white d-flex align-items-center justify-content-center" style="width: 60px; height: 60px;">
                                    <i class="fas ${iconClass} fa-2x"></i>
                                </div>`
                            }
                        </div>
                        <div class="flex-grow-1 ms-3">
                            <h6 class="mb-1 d-flex align-items-center">
                                <span>${person.hoTen}</span>
                                ${
                                  person.chucVu
                                    ? `<span class="badge ${badgeClass} ms-2">${person.chucVu}</span>`
                                    : ""
                                }
                            </h6>
                            <div class="d-flex align-items-center gap-3 text-muted small">
                                ${
                                  person.email
                                    ? `<span><i class="fas fa-envelope me-1"></i>${person.email}</span>`
                                    : ""
                                }
                                ${
                                  person.dienThoai
                                    ? `<span><i class="fas fa-phone me-1"></i>${person.dienThoai}</span>`
                                    : ""
                                }
                                ${
                                  person.diemNhomTen
                                    ? `<span><i class="fas fa-map-marker-alt me-1"></i>${person.diemNhomTen}</span>`
                                    : ""
                                }
                            </div>
                        </div>
                        <div class="flex-shrink-0">
                            <div class="d-flex align-items-center gap-2">
                                ${statusBadge}
                                <div class="btn-group">
                                    <a href="/admin/${type}/view/${
          person.id
        }" class="btn btn-sm btn-outline-primary">
                                        <i class="fas fa-eye"></i>
                                    </a>
                                    <a href="/admin/${type}/edit/${
          person.id
        }" class="btn btn-sm btn-outline-warning">
                                        <i class="fas fa-edit"></i>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;

        return col;
      }

      function createPersonnelGridItem(person, type = "nhan-su") {
        const col = document.createElement("div");
        col.className = "col-lg-4 col-md-6 mb-4";

        const avatarUrl =
          person.avatarUrl || "/static/images/default-avatar.svg";
        const statusBadge = getStatusBadge(person.trangThai);
        const iconClass = type === "chap-su" ? "fa-user-graduate" : "fa-user";
        const badgeClass = type === "chap-su" ? "bg-warning" : "bg-primary";

        col.innerHTML = `
                <div class="card personnel-card h-100">
                    <div class="card-body text-center p-3">
                        <div class="mb-3">
                            ${
                              person.avatarUrl
                                ? `<img src="${avatarUrl}" alt="Avatar" class="rounded-circle" style="width: 80px; height: 80px; object-fit: cover;">`
                                : `<div class="rounded-circle ${badgeClass} text-white d-flex align-items-center justify-content-center mx-auto" style="width: 80px; height: 80px;">
                                    <i class="fas ${iconClass} fa-2x"></i>
                                </div>`
                            }
                        </div>
                        <h6 class="card-title mb-1">${person.hoTen}</h6>
                        ${
                          person.chucVu
                            ? `<p class="text-muted small mb-2"><span class="badge ${badgeClass}">${person.chucVu}</span></p>`
                            : ""
                        }
                        <div class="mb-2">${statusBadge}</div>
                        <div class="d-flex justify-content-center gap-1">
                            <a href="/admin/${type}/view/${
          person.id
        }" class="btn btn-sm btn-outline-primary">
                                <i class="fas fa-eye"></i>
                            </a>
                            <a href="/admin/${type}/edit/${
          person.id
        }" class="btn btn-sm btn-outline-warning">
                                <i class="fas fa-edit"></i>
                            </a>
                        </div>
                    </div>
                </div>
            `;

        return col;
      }

      function getStatusBadge(trangThai) {
        switch (trangThai) {
          case "HOAT_DONG":
            return '<span class="badge bg-success"><i class="fas fa-check-circle me-1"></i>Hoạt động</span>';
          case "DANG_PHUC_VU":
            return '<span class="badge bg-info"><i class="fas fa-user-clock me-1"></i>Đang phục vụ</span>';
          case "TAM_NGHI":
            return '<span class="badge bg-warning"><i class="fas fa-pause-circle me-1"></i>Tạm nghỉ</span>';
          case "NGHI_VIEC":
            return '<span class="badge bg-danger"><i class="fas fa-times-circle me-1"></i>Nghỉ việc</span>';
          default:
            return '<span class="badge bg-secondary">Không xác định</span>';
        }
      }

      function toggleModalView() {
        const listView = document.getElementById("modalListView");
        const gridView = document.getElementById("modalGridView");
        const toggleIcon = document.getElementById("modalViewToggleIcon");
        const toggleText = document.getElementById("modalViewToggleText");

        if (isModalGridView) {
          // Switch to list view
          listView.style.display = "block";
          gridView.style.display = "none";
          toggleIcon.className = "fas fa-th-large me-1";
          toggleText.textContent = "Xem dạng lưới";
          isModalGridView = false;
        } else {
          // Switch to grid view
          listView.style.display = "none";
          gridView.style.display = "block";
          toggleIcon.className = "fas fa-list me-1";
          toggleText.textContent = "Xem dạng danh sách";
          isModalGridView = true;
        }
      }
    </script>

    <style>
      .avatar-xl {
        width: 120px;
        height: 120px;
        font-size: 48px;
      }

      .info-item {
        padding: 12px 0;
      }

      .info-label {
        font-size: 0.875rem;
        font-weight: 600;
        color: #6c757d;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        margin-bottom: 4px;
        display: block;
      }

      .info-value {
        font-size: 1rem;
        font-weight: 500;
        color: #495057;
      }

      .bg-gradient-primary {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      }

      .card {
        transition: transform 0.2s ease-in-out;
      }

      .card:hover {
        transform: translateY(-2px);
      }

      .note-box {
        background-color: #f8f9fa !important;
        border-left: 4px solid #17a2b8 !important;
        font-size: 0.95rem;
        line-height: 1.5;
      }

      /* Personnel List Styles */
      .personnel-item {
        transition: all 0.2s ease;
        border: 1px solid #dee2e6 !important;
      }

      .personnel-item:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 123, 255, 0.1) !important;
        border-color: #007bff !important;
      }

      .personnel-card {
        transition: all 0.2s ease;
        border: 1px solid #dee2e6;
      }

      .personnel-card:hover {
        transform: translateY(-3px);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
        border-color: #007bff;
      }

      .personnel-card .card-body {
        padding: 1.5rem 1rem;
      }

      .personnel-card .card-title {
        font-size: 1rem;
        font-weight: 600;
        color: #495057;
      }

      /* Avatar styling */
      .personnel-item img,
      .personnel-card img {
        border: 3px solid #fff;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }

      /* Dropdown styling */
      .personnel-item .dropdown-toggle,
      .personnel-card .btn {
        border: none;
        background: transparent;
      }

      .personnel-item .dropdown-toggle:hover {
        background-color: #f8f9fa;
      }

      /* Badge styling */
      .personnel-item .badge,
      .personnel-card .badge {
        font-size: 0.75rem;
        padding: 0.25rem 0.5rem;
      }

      /* View toggle button */
      .btn-outline-primary:hover {
        background-color: #007bff;
        border-color: #007bff;
      }

      /* Responsive adjustments */
      @media (max-width: 768px) {
        .personnel-item {
          margin-bottom: 1rem;
        }

        .personnel-item .d-flex {
          flex-direction: column;
          text-align: center;
        }

        .personnel-item .flex-shrink-0 {
          margin-bottom: 1rem;
        }

        .personnel-card {
          margin-bottom: 1rem;
        }
      }

      /* Animation for view switching */
      .personnel-list,
      .personnel-grid {
        animation: fadeIn 0.3s ease;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* Clickable personnel button styles */
      .personnel-btn {
        transition: all 0.2s ease;
        border-radius: 0.5rem;
        padding: 0.5rem !important;
      }

      .personnel-btn:not(:disabled):hover {
        background-color: rgba(0, 123, 255, 0.1) !important;
        transform: scale(1.05);
      }

      .personnel-btn:not(:disabled) {
        cursor: pointer;
      }

      .personnel-btn:disabled {
        opacity: 0.6;
        cursor: not-allowed;
      }

      .personnel-btn .fa-external-link-alt {
        transition: transform 0.2s ease;
      }

      .personnel-btn:hover .fa-external-link-alt {
        transform: translateX(2px) translateY(-2px);
      }
    </style>
  </body>
</html>
